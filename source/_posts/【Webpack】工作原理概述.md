---
title: 【Webpack】工作原理概述
date: 2021-01-29 16:44:56
tags:
	- 原理
	- Webpack
cover_picture: /images/webpack.png
---

webpack的运行流程是一个串行的过程，从启动到结束会依次执行以下流程：

1. 初始化参数：从配置文件和shell语句中读取并合并参数，得出最终的参数
2. 开始编译：将得到的参数初始化Compiler对象，加载所有配置的插件，通过执行对象的run方法开始执行编译
3. 确定入口：根据配置文件中的entey找到所有的入口文件
4. 编译模块：从入口文件出发，调用所有配置的Loader对模块进行翻译，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖文件都经过处理
5. 完成模块编译：经过编译后，得到每个模块被翻译后的最终内容和它们之间的依赖关系
6. 输出资源：根据入口和模块之间的依赖关系，组成一个个包含多个模块的Chunk，再将每个Chunk转换成一个单独的文件加入输出列表（此时可以最后修改输出内容）
7. 输出完成：在确定输出内容后，根据配置确定输出的路径和文件名，将文件的内容写入文件系统中



在上述过程中，webpack会在特定的时间点广播特定的事件，插件在监听到感兴趣的事件后会执行特定的逻辑，并且插件可以调用webpack提供的API改变webpack的运行结果，
